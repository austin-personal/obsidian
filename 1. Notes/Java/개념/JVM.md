JVM(Java Virtual Machine)은 자바 애플리케이션을 실행하기 위한 **가상 머신**으로, 다음과 같은 역할과 구조를 가집니다.

---

## **1. JVM의 정의 및 역할**

- **정의**: 자바 바이트코드(.class 파일)를 실행할 수 있도록 설계된 가상의 컴퓨터
    
- **역할**:
    
    1. **바이트코드 해석 및 실행**
        
    2. **메모리 관리** (가비지 컬렉션)
        
    3. **플랫폼 독립성 제공** (“Write Once, Run Anywhere”)
        
    

---

## **2. JVM의 주요 구성 요소**

```
+---------------------------+
|       Class Loader       |
+---------------------------+
|   Runtime Data Areas     |
|  - Method Area           |
|  - Heap                  |
|  - Java Stack            |
|  - PC Register           |
|  - Native Method Stack   |
+---------------------------+
|     Execution Engine     |
|  - Interpreter           |
|  - JIT Compiler          |
+---------------------------+
|     Native Interface     |
+---------------------------+
|      Native Libraries    |
+---------------------------+
```

1. **클래스 로더 서브시스템 (Class Loader Subsystem)**
    
    - .class 바이트코드 파일을 읽어들여 JVM 내부 구조로 로드
        
    - **부트스트랩 로더**, **확장 로더**, **애플리케이션 로더** 계층으로 나뉨
        
    - 동적(런타임) 클래스 로딩 지원
        
    
2. **런타임 데이터 영역 (Runtime Data Areas)**
    
    - **Method Area (메서드 영역)**
        
        - 클래스 정보, 메서드 바이트코드, 상수풀, static 변수 저장
            
        
    - **Heap (힙 영역)**
        
        - 모든 객체(Object)와 배열의 인스턴스가 할당되는 영역
            
        - **가비지 컬렉터(GC)**가 주기적으로 사용하지 않는 객체 정리
            
        
    - **Java Stack (스택 영역)**
        
        - 각 스레드마다 생성, 메서드 호출 시마다 **프레임(frame)** 생성
            
        - 로컬 변수, 연산 스택, 반환 주소 등 저장
            
        
    - **PC Register (프로그램 카운터)**
        
        - 현재 실행 중인 JVM 명령(바이트코드)의 주소(위치)를 가리킴
            
        
    - **Native Method Stack (네이티브 메서드 스택)**
        
        - JNI(Java Native Interface)를 통해 호출된 네이티브(C/C++) 메서드용 스택
            
        
    
3. **실행 엔진 (Execution Engine)**
    
    - **인터프리터(Interpreter)**
        
        - 바이트코드를 한 줄씩 읽어 실행
            
        
    - **JIT(Just-In-Time) 컴파일러**
        
        - 자주 실행되는(“hot spot”) 바이트코드를 네이티브 머신 코드로 번역하여 캐싱
            
        - 이후부터는 네이티브 코드로 직접 실행 → 성능 향상
            
        
    
4. **네이티브 인터페이스 (JNI: Java Native Interface)**
    
    - 자바에서 C/C++ 등 네이티브 라이브러리를 호출할 수 있도록 연결해 주는 브릿지
        
    
5. **네이티브 라이브러리 (Native Libraries)**
    
    - 운영체제나 하드웨어 자원 접근을 위해 JNI를 통해 로드되는 플랫폼별 코드
        
    

---

## **3. JVM의 특징과 장점**

1. **플랫폼 독립성**
    
    - 바이트코드만 있으면 Windows, Linux, macOS 어디서나 동일하게 실행
        
    
2. **안정성(보안)**
    
    - 바이트코드를 실행하기 전 검증(verifier) 과정을 거쳐 잘못된 코드 차단
        
    
3. **메모리 자동 관리**
    
    - 가비지 컬렉션으로 메모리 누수 방지, 개발자는 객체 생성·소멸에만 집중
        
    
4. **성능 최적화**
    
    - JIT 컴파일러, HotSpot 최적화, 다양한 GC 알고리즘 제공
        
    

---

## **4. JVM 동작 흐름 요약**

1. 작성된 **자바 소스(.java)** → **컴파일러** → **바이트코드(.class)**
    
2. **클래스 로더**가 바이트코드 로드 → **Verifier** 검증
    
3. **Execution Engine**이 바이트코드를 인터프리트하거나 JIT 컴파일
    
4. 필요한 경우 **JNI**를 통해 네이티브 라이브러리 호출
    
5. 런타임 동안 **Heap**에 객체 할당, GC로 메모리 관리
    

---

이처럼 JVM은 자바 애플리케이션의 **플랫폼 독립 실행**, **메모리 관리**, **보안**, **성능 최적화**를 한데 묶어 제공하는 핵심 런타임 환경입니다.